## JS中function的基础知识

### 什么是函数?
1. 实质和意义
- 函数实际上是一种方法:意义在于封装
2. 应用
- 把实现某一个功能的代码封装在一起,后期想实现这个功能,只需要执行函数即可,不需要重新编写这些函数了.
3. 目的:
减少页面冗余代码,提高代码重复利用率,"低耦合,高内聚"

### 函数的两个重要部分
1. 创建函数
- 语法: 
function 函数名(形参){ 函数体 }
- 创建过程:
第一步:
 创建值:
   开辟一个堆内存
   把函数体中的代码当作字符串存储在堆中
   把堆地址放到栈中
第二步:
 创建变量
第三步:
 让变量和地址关联
> 只创建函数,其实就是创建了一个存储一堆字符串的堆而已,并没有实际作用.
2. 执行函数
- 语法:函数名(实参)
- 目的:把创建的函数执行(把函数体中的代码执行)
3. 依赖条件: 栈内存;供代码执行的上下文
> 已知页面加载时浏览器已经创建了ECStack执行环境栈,所以我们在执行函数时,只需要创建一个新的执行上下文就可以了.
4. 执行过程
- 第一步：
创建一个全新的执行上下文，把执行上下文压缩到栈内存中去执行（进栈执行）
- 第二步：
在这个上下文中，也存在一个AO（变量对象），用来存储当前上下文代码执行中所创建的变量
这些变量是“私有变量”
除当前上下文中可以使用这些变量的值，上下文以外的环境不能直接使用私有变量的值
- 第三步：
代码执行
- 第四步：
当上下文中的代码都执行完后，如果该上下文中的信息没有被外界占用的情况，则执行完出栈（释放掉）以减少栈内存中的空间；

### 参数的形式
1. 形参
- 定义:
创建函数的时候,我们并不清楚需要处理的数据是什么,只是当函数执行的时候,我们才知道此时需要定义相应的入口,这个入口在JS函数中被称为形参;
- 作用:
用来存储执行函数时,传递进来的信息;
所以形参是变量;
2. 实参
- 定义:函数执行的时候,传递进来的值会赋值给形参变量,传递的具体值在JS函数中被称为实参.
- 作用:
实参就是具体传递的值
```js
function sum(x, y){
    let total = x + y;
    console.log(total);
}
sum(1 === 1 ? 'OK' : 'NO'); // 也需要把三元表达式运算的结果作为实参传递给形参

let age = 20;
sum(age); // x =>20 实参永远都是值.
```
> 形参是设置函数时候设定的变量,实参是执行函数的时候给形参传递的具体值.

### 形参和实参的对应关系
1. 设定形参变量,但是执行的时候没有传递对应的值,则形参默认值为undefined;
2. 形参只有两个,而实参有三个的时候,第三个实参没有对应的形参接收.

### arguments
1. 定义
- 函数内置实参的集合
- 不管我们是否设置形参,或者是否传递了实参,arguments始终都会存在(ES6箭头函数中没有arguments)
- 只能出现在函数体中
2. 形式
- arguments是一个类数组集合
- 类似数组,但不是数组,和元素集合HTMLCollection类似
3. 原理
- 根据索引记录了每一个传递劲辣的实参信息(和是否定义形参变量没有关系)
- arguments 中包含了所有传递进来的实参信息
- Length 属性代表传递实参的个数.
4. 例子:任意数求和

### 剩余参数和arguments对象的区别
1. 剩余参数只包含哪些没有对应形参的实参,而arguments对象包含了传给函数的所有实参.
2. arguments对象不是一个真正的数组,而剩余参数是真正的Array实例.

### 返回值 return 
函数中的变量为私有变量,除当前上下文中可以使用这些变量的值，上下文以外的环境不能直接使用私有变量的值
1. 定义:外面想用当前上下文中的一些私有信息，则需要函数提供对应的出口，把信息提供给外面使用，而这个出口在JS函数中被称为“返回值 return”
2. 作用
- 基于return 把变量的值暴露给外面使用
- 在外边创建一个变量,用来接收函数执行返回的值.(也就是return 后面的值)

> return 后面放的一定是变量

### 函数的表达形式
1. 实名函数
- 有函数名的
2. 匿名函数
- 函数表达式
把一个函数当作值赋值给变量
事件绑定
```js
document.body.onclick = function() {
    // 此处是匿名函数
};
let fn = function() {
    // 也是匿名函数 fn 代表这个韩式 和 function fn 类似
}
```
- 自动执行函数
函数创建完就立即执行了
创建函数时,function包一个小括号或前面假特殊字符是为了符合语法规范
(function（n）{...})(实参):
+ function（n）{...}(实参)
- function（n）{...}(实参)
~ function（n）{...}(实参)
! function（n）{...}(实参)

3. 箭头函数
语法:let func = (x, y) => {...}