## JavaScript深入之变量对象
- ECS的三个重要属性
    1. 变量对象(variable object, VO)
    2. 作用域链(scopw chain)
    3. this
    重点讲创建变量对象的过程
- 变量对象
变量对象是`执行上下文相关的数据作用域`，存储在了下文中定义`的变量和函数声明`。
因为不同执行上下文的变量对象稍有不同，所以我们来聊全局上下文下的变量对象和函数上下文的变量对象。
- 全局上下文
 1. 全局对象
全局对象是预定义的对象，作为js的全局函数和全局属性的占位符。通过使用全局对象，可以`访问其他所有预定义的对象、函数、属性`。
可以使用关键字this引用全局对象，全局对象是作用域链的头，这意味着所有非限定性的变量和寒素名都会作为该对象的属性来查询。
详解:
1. 可以通过this引用，在客户端js中，全局对象就是window对象。
console.log(this)
2. 全局对象是由object构造函数实例化的一个对象
console.log(this.instanceof object);
3. 预定了一大堆函数和属性
console.log(Math.random())
console.log(this.Math.random())
4. 作为全局变量的宿主
var a = 1;
console.log(this.a)
5. 客户端js中，全局对象有window属性指向自身。
var a = 1;
console.log(this.a)
this.window.b = 2;
console.log(this.b)
简而言之：全局上下文中的变量就是全局对象！
- 函数上下文
 在函数上下文中，我们用活动对象(activation object OA)来表示变量对象。
 活动对象和变量对象其实就是一个东西，只是变量对象是规范上的或者说是引擎实现上的。
 活动对象实在进入函数上下文时刻被创建的，它通过函数的arguments属性初始化。
- 执行过程
 分析和执行
 1. 进入执行上下文
 2. 代码执行
- 进入执行上下文
变量的对象：
1. 函数的所有形参
  由名称和对应值组成的一个变量对象的实行被创建
  没有实参，属性值设为undefiend
2. 函数声明
  由名称和对应值组成一个变量对象的属性被创建
  如果变量对象已经存在相同名称的属性，则完全替换这个属性
3. 变量声明
  由名称和对应值组成一个变量对象的属性被创建
和已声明的形参或函数相同，则变量声明不会干扰已经存在的这个属性。